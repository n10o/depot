extends layout

block content
  div.container(ng-controller="depCon")
    h1= title

    div(ng-hide="user")
      a(href="/auth/facebook") Facebook でログイン
    div(ng-show="user")
      p Name: {{ user.displayName }}
      a(ng-click="logout()" href="#") Logout

    div.search(ng-show="user")
      form.form-inline
        input.form-control(type="text" ng-model="item" placeholder="Search item name" required)
        button.btn.btn-primary(ng-click="searchItems(item)") Search
    div(ng-show="showLoading")
      p Now Loading...
    div.contents(ng-hide="showLoading")
      table.table.table-condensed(ng-hide="!searchResult")
        thead
          tr
            th Title
            th ASIN
        tbody
          tr(ng-repeat="content in searchResult" ng-class="{hopin: hover}" ng-mouseenter="hover = true" ng-mouseleave="hover = false" ng-click="clickItem(content)")
            td {{content.Title}}
            td {{content.ASIN}}

    div.property(ng-show="user")
      h3 My Properties
      table.table.table-condensed
        thead
          tr
            th Title
            th ASIN
        tbody
          tr(ng-repeat="prop in props" ng-class="{hopin: hover}" ng-mouseenter="hover = true" ng-mouseleave="hover = false" ng-click="clickRow(content)")
            td {{prop.title}}
            td {{prop.asin}}
    div.tmp
      <div ui-view></div>
